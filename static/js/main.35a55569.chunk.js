(this.webpackJsonpstandup=this.webpackJsonpstandup||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var a=n(3),s=n(9),i=n.n(s),o=n(18),r=n.n(o),c=(n(24),n(11)),l=n(12),u=n(7),d=n(14),h=n(13),b=n.p+"static/media/standup_logo.dea47840.png",m=(n(25),n(26),n(27),n.p+"static/media/anonymous.35a8b45d.jpg"),p=function(t){return t?Object(a.jsxs)("div",{className:"anonymous",children:[Object(a.jsx)("div",{className:"today_title",children:"\ubb34\uc5c7\uc744 \uacf5\uc720\ud560\uae4c\uc694?"}),Object(a.jsx)("div",{className:"anonymous_name",children:" \ud2f0\ud30c\ub2c8 "}),Object(a.jsx)("div",{className:"anonymous_img_wrap",children:Object(a.jsx)("img",{src:m,alt:"profiles",className:"anonymous_img"})})]}):Object(a.jsx)("div",{})};var v=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).onPaste=a.onPaste.bind(Object(u.a)(a)),a.editorChange=a.editorChange.bind(Object(u.a)(a)),a.getCard=a.getCard.bind(Object(u.a)(a)),a.hasValue=a.hasValue.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.state={embedlyUrl:void 0,content:void 0},a}return Object(l.a)(n,[{key:"onPaste",value:function(t){var e=this;t.clipboardData.items[0].getAsString((function(t){e.detectURL(t)&&e.setState({embedlyUrl:t,content:e.state.content})}))}},{key:"editorChange",value:function(t){var e=this.detectURL(t.currentTarget.textContent);this.state.embedlyUrl||32!==t.keyCode&&13!==t.keyCode||!e?this.setState({content:t.currentTarget.textContent}):this.setState({embedlyUrl:e,content:t.currentTarget.textContent})}},{key:"detectURL",value:function(t){var e=t.match(/(https?:\/\/[^\s]+\.[a-z]{2,})/g),n=t.match(/(www.[^\s]+\.[a-z]{2,})/g),a=e||n;return a&&a.length>0?a[0]:void 0}},{key:"getCard",value:function(t){return t?Object(a.jsx)("div",{children:t}):Object(a.jsx)("div",{})}},{key:"hasValue",value:function(t){return!(!t||"string"!==typeof t)&&(!!t&&""!==t.trim())}},{key:"handleSubmit",value:function(t){var e=Object.assign({},function(){return{user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tester",content:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hello, react-world.",urls:[{url:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://github.com/gentledot",title:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\ud14c\uc2a4\ud2b8 \uac8c\uc2dc\ubb3c",description:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"\ub9ac\uc561\ud2b8 \uc571 \uc81c\uc791\uc744 \uc775\ud788\uae30 \uc704\ud574 \uc57c\uae08\uc57c\uae08 \ub9cc\ub4dc\ub294 \uc911",imageUrl:arguments.length>5&&void 0!==arguments[5]?arguments[5]:"test",imgWidth:arguments.length>6&&void 0!==arguments[6]?arguments[6]:640,imgHeight:arguments.length>7&&void 0!==arguments[7]?arguments[7]:480,thumbnailUrl:arguments.length>8&&void 0!==arguments[8]?arguments[8]:"https://avatars1.githubusercontent.com/u/15000594?s=400&u=ab8d53076cfa201bb8d1cc25f4bb93f6c12fc4d1&v=4",thumbnailWidth:arguments.length>9&&void 0!==arguments[9]?arguments[9]:80,thumbnailHeight:arguments.length>10&&void 0!==arguments[10]?arguments[10]:80}]}}());e.user="gentledot",e.content=this.state.content,e.urls[0].url=this.state.embedlyUrl,this.props.submit(e)}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"wrapEditor",children:[Object(a.jsx)(p,{isAnonymous:this.props.isAnonymous}),Object(a.jsx)("div",{className:"textEditor",children:Object(a.jsx)("div",{className:"innerEdit",contentEditable:"true",placeholder:"\uae00\uc4f0\uae30......",onPaste:this.onPaste,onKeyUp:this.editorChange})}),Object(a.jsx)("div",{className:"actionBar",children:Object(a.jsx)("button",{className:"upload",disabled:!this.hasValue(this.state.content),onClick:this.handleSubmit,children:Object(a.jsx)("span",{children:"\uc2a4\ud0e0\ub4dc\uc5c5!"})})})]})}}]),n}(s.Component),j={apiKey:"AIzaSyCpKAxtKTxKYPifOtk5q93Rp7w-Y88jm-4",authDomain:"standup-bd62b.firebaseapp.com",databaseURL:"https://standup-bd62b.firebaseio.com",projectId:"standup-bd62b",storageBucket:"standup-bd62b.appspot.com",messagingSenderId:"725632143502",appId:"1:725632143502:web:0576764e728809f6f6f9df",measurementId:"G-LMBVJ8GPKS"},f=n(8),g=function(){function t(e){Object(c.a)(this,t),f.a.apps.length||f.a.initializeApp(e)}return Object(l.a)(t,[{key:"insert",value:function(t){return f.a.database().ref().child("posts").push(t)}},{key:"update",value:function(t,e){var n={};return n["/posts/"+t]=e,n["/user-posts/gentledot/"+t]=e,f.a.database().ref().update(JSON.parse(JSON.stringify(n)))}},{key:"remove",value:function(t){return f.a.database().ref("/posts/").child(t).remove(),f.a.database().ref("/user-posts/gentledot/").child(t).remove()}},{key:"off",value:function(){return f.a.database().ref().off()}},{key:"newKey",value:function(){return f.a.database().ref().child("posts").push().key}},{key:"list",value:function(t){return f.a.database().ref("/posts/").orderByKey().limitToLast(t)}},{key:"getArticle",value:function(t){return f.a.database().ref("/posts/"+t)}}]),t}(),y=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).dao=new g(j),t.submit=t.submit.bind(Object(u.a)(t)),t.getArticles=t.getArticles.bind(Object(u.a)(t)),t.state={articles:[]},t}return Object(l.a)(n,[{key:"submit",value:function(t){if(t){var e=this.dao.newKey();return this.dao.update(e,t)}}},{key:"getArticles",value:function(){for(var t=[],e=0;e<this.state.articles.length;e++)t.push(Object(a.jsx)("li",{children:this.state.articles[e].content},this.state.articles[e].key));return console.log(t),t}},{key:"isAnonymous",value:function(){return!0}},{key:"componentDidMount",value:function(){var t=this;this.dao.list(25).on("value",(function(e){var n=[];e.forEach((function(t){var e=t.val();e.key=t.key,console.log("item \ud655\uc778 : ".concat(t.val())),n.push(e)})),n&&n.length>0&&t.setState({articles:n.reverse()})}))}},{key:"componentWillUnmount",value:function(){this.dao.off()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("img",{src:b,className:"App-logo",alt:"logo"}),Object(a.jsx)("h2",{children:"Stand Up \uc571\uc744 \ub9cc\ub4e4\uc5b4 \ubd05\uc2dc\ub2e4"})]}),Object(a.jsx)(v,{submit:this.submit,isAnonymous:this.isAnonymous}),Object(a.jsx)("div",{children:Object(a.jsx)("ul",{children:this.getArticles()})})]})}}]),n}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.35a55569.chunk.js.map